/*! el.js / kapad'18 */
"use strict";function domType(t){return"object"!=typeof t?typeof t:t instanceof Array?"array":t instanceof Object?"object":"_object"}var jtype=(this?this:window).jstype||function(t){return t?t.constructor.name.toLowerCase():null};function domDiff(t,e){var o="string"==typeof t?Array.from(document.querySelectorAll(t)):t,n="string"==typeof e?Array.from(document.querySelectorAll(e)):e;return o.filter(t=>-1===n.indexOf(t))}function el(t){let e=el;return e.log=(()=>{if(!e.debug)return;let t=["[D] [el.js]"];for(let e in arguments)t.push(arguments[e]);return console.log.apply(null,t),!0}),e.all="string"==typeof t?document.querySelectorAll(t):t,e.dom="string"==typeof t?document.querySelector(t):t,e.text=((t,o)=>!1===o?e:(e.dom&&(e.dom.innerText=t),e)),e.html=((t,o)=>!1===o?e:(e.dom&&(e.dom.innerHTML=t),e)),e.addhtml=((t,o)=>!1===o?e:(e.dom&&(e.dom.innerHTML+=t),e)),e.addtext=((t,o)=>!1===o?e:(e.dom&&(e.dom.innerText+=t),e)),e.class=(t=>e.dom?void 0===t?e.dom.classList:("string"==typeof t?e.dom.classList.add(t):e.dom.classList.add(...t),e):e),e.remove=(t=>{if(!e.dom||!t)return e;"string"==typeof t&&(t=[t]);for(let o of t)try{e.dom.removeAttribute(o)}catch(t){e.log(t)}return e}),e.attr=((t,o)=>{if(!e.dom||!t)return e;if("string"==typeof t)e.dom.setAttribute(t,o);else if("object"==typeof t)for(let o in t)try{e.dom.setAttribute(`${o}`,`${t[o]}`)}catch(t){}return e}),e.data=((t,o)=>{if(!e.dom)return e;if(!t)return e.dom.dataset;if("string"==typeof t)e.dom.setAttribute(`data-${t}`,o);else if("object"==typeof t)for(let o in t)try{e.dom.setAttribute(`data-${o}`,`${t[o]}`)}catch(t){}return e}),e.lclass=e.dom?e.dom.classList:null,e.addto=(t=>{if(!e.dom)return e;let o=e.dom,n=el(t).dom;return n&&o&&n.append(o),el(o)}),e.add=(t=>{if(!e.dom)return e;var o="string"==typeof t?document.querySelector(t):t;return o&&e.dom.append(o),e}),e.find=(t=>{var o=null;return e.dom&&(o=e.dom.querySelector(t)),o?el(o):null}),e}function waitfor(options,callback,delay){if(options.vars)for(var v of options.vars)if("undefined"===eval(`typeof ${v}`))return timeout(delay);if(options.depends)for(var depend of options.depends)if("undefined"===eval(`typeof ${depend}`))return timeout(delay);if(options.dom)for(var dom of options.dom)if(!document.querySelector(dom))return timeout(delay);function timeout(t){options.fataError||setTimeout(()=>{waitfor(options,callback)},t||250)}callback(options)}el.listen=function(t,e){let o=this;return o.dom?(this.dom.addEventListener(t,function(t){e(t,o.dom)}),o):o},el.listenAll=function(t,e){let o=this;if(!o.dom)return o;for(let n of o.all)n.addEventListener(t,function(t){e(t,n)});return o},el.create=function(t,e,o){let n=document.createElement(t);return e&&el(n).attr(e),o&&el(n).html(o),this(n)},el.js=((t,e)=>{let o,n=this.dom?this.dom:document.head,r=e&&"index"in e?parseInt(e.index):null,i=el.create("script",{type:"application/javascript",src:t}).attr(e);return(o=n.childNodes[r]||n.firstChild)&&r>0?n.insertBefore(i.dom,o):i.addto(n),this}),el.css=function(t,e){let o,n=this.dom?this.dom:document.head,r=e&&"index"in e?parseInt(e.index):null,i=this.create("link",{rel:"stylesheet",type:"text/css",href:t}).attr(e);return(o=n.childNodes[r]||n.firstChild)&&r>0?n.insertBefore(i.dom,o):i.addto(n),this};let TIMESTAMP="2018347/19:15:53 UTC",readme="./README.md",avatar="https://avatars1.githubusercontent.com/u/17152917?s=96&v=4";function x(t,e){let o=document.querySelector("#intro");o.innerText="",e=e||500,setTimeout(function(){!function t(e,o,n){o.length&&(e.innerHTML+=o.charAt(0),o=o.substring(1),setTimeout(function(){t(e,o,n)},n))}(o,t,e)},e)}window.addEventListener("load",t=>{console.log("gkapad@",new Date),console.log("gkapad@",location.origin,location.pathname),el.css("cdn/fa5.8/css/all.css"),el.css("cdn/ProggyVector/Proggy.css");let e=avatar,o="gkapad@/"+location.host.replace("gkapad.","");document.title=o,el("#intro").html('<i class="fa fas fa-2x fa-spin fa-spinner"></i>'),el("#host").text(document.title),el("#update").text(TIMESTAMP),el("#icon").attr("data",e),el('head link[rel="icon"]').attr("href",icon),el('head link[rel="shortcut icon"]').attr("href",icon),fetch(readme).then(t=>{if(!t.ok)throw t;return t.text()}).then(t=>{x(t,100)}).catch(t=>{el("#intro").text("")})});